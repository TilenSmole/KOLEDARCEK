<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="LOGIC/neki.js"></script>
    <link rel="stylesheet" href="design.css">

</head>

<body>

    <h1>DOBODOŠLI NA KOLEDARČKU!</h1>
    <p></p>
    <div id="divMonth">
        <label for="months">Vpiši želeni mesec:</label>
        <select name="months" id="months">
            <option value="1">januar</option>
            <option value="2">februar</option>
            <option value="3">marec</option>
            <option value="4">april</option>
            <option value="5">maj</option>
            <option value="6">junij</option>
            <option value="7">julij</option>
            <option value="8">avgust</option>
            <option value="9">september</option>
            <option value="10">oktober</option>
            <option value="11">november</option>
            <option value="12">december</option>
        </select>
    </div>

    <div id="divYear">
        <label for="year">Vpiši želeno leto:</label>
        <input type="text" id="year">

    </div>

    <div id="divDate"> <label for="fullDate">Vpiši želeni datum:</label>
        <input type="text" id="fullDate" placeholder="dan/mesec/leto">
    </div>

    <p id="error"></p>



    <table id="displayMonth">


    </table>






    <script>
        const d = new Date();
        const selectedMonth = document.getElementById("months");
        selectedMonth.value = d.getMonth() + 1;
        updateOutput(d.getMonth() + 1, d.getFullYear());

        let selectedYear = document.getElementById("year");
        selectedYear.value = d.getFullYear()

        var year = selectedYear.value
        var month = selectedMonth.value

        let selectedDate = document.getElementById("fullDate");
        selectedDate.value = d.getDate() + "/" + month + "/" + year

        selectedMonth.addEventListener("change", function () {
            updateOutput(this.value, year);
            month = this.value
            selectedMonth.value = month
            selectedDate.value = d.getDate() + "/" + month + "/" + year

        });

        var error = document.getElementById("error");



        selectedYear.addEventListener("input", function () {
            if (Number(this.value)) {
                updateOutput(month, this.value);
                year = this.value
                selectedYear.value = year
                error.textContent = ""
                selectedDate.value = d.getDate() + "/" + month + "/" + year
            }
            else {
                error.textContent = "Vpiši veljavno leto!"

            }
        });



        selectedDate.addEventListener("input", function () {
            let wholeText = this.value.split("/");
            let day = parseInt(wholeText[0], 10);
            let month = parseInt(wholeText[1], 10);
            let year = parseInt(wholeText[2], 10);

            let date = new Date(year, month - 1, day);
            console.log(date);

            if (!isNaN(date.getTime()) && date.getDate() === day && date.getMonth() === month - 1 && Number(year)) {
                updateOutput(month, year);
                error.textContent = "";
                selectedYear.value = year;
                selectedMonth.value = month;
            } else {
                error.textContent = "Vpiši veljaven datum!";
            }
        });


      




    </script>



</body>

</html>